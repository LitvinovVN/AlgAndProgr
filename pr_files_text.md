# Работа с текстовыми файлами

https://intuit.ru/studies/courses/3479/721/lecture/25559?page=3


Текстовые файлы состоят из любых символов.
Они организуются по строкам, каждая из которых заканчивается символом "конец строки".
Конец самого файла обозначается символом "конец файла".
При записи информации в текстовый файл все данные преобразуются к символьному типу и хранятся в символьном виде.

Для работы с файлами используются специальные типы данных, называемые потоками.
Поток ifstream предназначен для работы с файлами в режиме чтения.
Поток ofstream - в режиме записи.
Для работы с файлами в режиме как чтения, так и записи служит поток fstream.

В программах на C++ при работе с текстовыми файлами необходимо подключать библиотеки iostream и fstream.

Для того, чтобы записать данные в текстовый файл, необходимо:

1. Описать переменную типа ofstream.
2. Открыть файл с помощью функции open.
3. Вывести информацию в файл.
4. Закрыть файл.

Чтобы считать данные из текстового файла, необходимо:

1. Описать переменную типа ifstream.
2. Открыть файл с помощью функции open.
3. Считать информацию из файла, при считывании каждой порции данных необходимо проверять достигнут ли конец файла.
4. Закрыть файл.


1. Создать текстовый файл abc.txt и записать туда n вещественных чисел.

```c++
// g++ files_txt_01.cpp -o app
// ./app
#include <iostream>
#include <fstream>
#include <iomanip>

using namespace std;

int main ( )
{
	int i, n;
    double a;
	ofstream f; //Описывает поток для записи данных в файл.
	f.open("abc.txt"); //Открываем файл в режиме записи,
		//режим ios::out устанавливается по умолчанию.
	cout << " n = "; cin >> n; //Ввод количества вещественных чисел.
	for (i = 0; i < n; i++)
	{
		cout << " a = "; cin >> a; //Ввод очередного числа.
		if ( i < n-1) //Если число не последнее,
			f << a << " \t "; //записать в файл это число и символ табуляции, иначе
		else f << a; //записать только число.
	}
	f.close(); //Закрытие потока.

    return 0;
}
```

2. В текстовом файле abc.txt хранятся вещественные числа, вывести их на экран и вычислить их количество.

```c++
// g++ files_txt_02.cpp -o app
// ./app
#include <iostream>
#include <fstream>
using namespace std;
int main()
{
	ifstream f; //Поток для чтения.
	float a; int n=0;
	f.open("abc.txt"); //Открываем файл в режиме чтения.
	if(f) //Если открытие файла прошло корректно, то
	{
		while (!f.eof()) //Организован цикл, выполнение цикла
		//прервётся, когда будет достигнут конца файла.
		{
			f >> a; //Чтение очередного значения из потока f в переменную a.
			cout << a << "\t"; //Вывод значения переменной a
			n++; //Увеличение количества считанных чисел.
		}
		f.close(); //Закрытие потока.
		cout << "n = " << n << endl; //Вывод на экран количества чисел.
	}
	else
        cout << "Файл не найден" << endl; //Если открытие файла прошло некорректно, то
	                                    //вывод сообщения, об отсутствии такого файла.
	return 0;
}
```